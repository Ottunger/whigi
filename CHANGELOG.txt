Updated on 21-08-16, 13:30
**************************



Whigi endpoints:
****************

/api/v<any>/user/<id>: Get, needs auth, needs puzzle
Retrieves public data of user.

/api/v<any>/profile: Get, needs auth
Retrieves own data.

/api/v<any>/profile/data: Get, needs auth
Retrieves list of owned fragments.

/api/v<any>/profile/data/new: Post, needs auth, needs puzzle
Saves a new data fragment.
{"name": "string", "encr_data": "string"}

/api/v<any>/user/<id>/update: Post, needs auth
Updates password. When updated password, needs to send the new ecrypted master key as well.
{"password": "string", "encr_master_key": "string"}

/api/v<any>/user/create: Post
Creates a new entry if none matches.
{"first_name": "string", "last_name": "string", "username": "string", "password": "string", "email": "string"}

/api/v<any>/activate/<key>/<id>: Get
Activates the user whose activation key is given.

/api/v<any>/user/<id>/deactivate: Delete, needs auth
Deactivates the user.

/api/v<any>/data/<id>: Get, needs auth
Retrieves an encrypted piece of data.



Whigi-restore endpoints:
************************

/api/v<any>/new: Post, needs auth of Whigi
Adds a new mapping.
{"email": "string", "master_key": "string", "key": "string"}

/api/v<any>/request/<email>: Get
Creates a token sent by mail to retrieve master_key, lag protected. The page pointed to is /password-recovery that *should* call /api/v<any>/key/<token> for user experience.

/api/v<any>/key/<token>: Get
Retrieves the master key if token is valid and clear the token. The page that calls this method *should* inform Whigi of a password change.